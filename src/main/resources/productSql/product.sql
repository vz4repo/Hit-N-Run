insert into prd(pd_id, pd_name,mdl_name,ctg,mn_img_fn,det_img_fn,pd_smr_dsc,pd_det_dsc,sls_strt_dt,pd_mnf_date, og_pd_num,origin,mfr,srs_id,mtrl,season,qlt_cd,pd_chr_cd,sprt_type_cd,pd_type_cd,pd_type_det_cd,brd_cd,clr_cd,age_grp_cd,pd_stat_hist_cd,frst_reg_dt,frst_reg_id,last_mod_id) values('APP000001-89', '투더문 쿨론 루즈핏 메쉬 스판 언더셔츠 오리지널 네이비','투더문 언더셔츠', 'APPFRTTTM', '/Users/ikjuncho/Library/Mobile Documents/com~apple~CloudDocs/Computer/Web/Backend/project/baseball/apparel/APP000001-89/main.jpg','/Users/ikjuncho/Library/Mobile Documents/com~apple~CloudDocs/Computer/Web/Backend/project/baseball/apparel/APP000001-89/detail.jpg','투더문 쿨론 루즈핏 메쉬 스판 언더셔츠는 오리지널 네이비 컬러로 제작되어 편안하고 시원한 착용감을 제공합니다.','투더문 쿨론 루즈핏 메쉬 스판 언더셔츠는 뛰어난 품질과 착용감을 자랑하는 제품입니다. 오리지널 네이비 컬러는 다양한 스타일에 어울리며, 클래식한 룩을 연출할 수 있습니다. 메쉬 스판 소재는 통기성이 뛰어나고, 땀을 효과적으로 배출하여 시원하고 건조한 착용감을 제공합니다. 루즈핏 디자인은 자유로운 움직임을 가능하게 하며, 편안한 착용감을 선사합니다. 피부에 자극 없는 부드러운 소재로 피부에 안심하고 착용할 수 있습니다. 이 언더셔츠는 운동이나 일상 생활에서 활용하기에 이상적이며, 세련된 디자인과 탁월한 기능을 모두 갖추고 있습니다.','20240405','20240221','MG9844-24','중국','투더문','언더셔츠','폴리에스터','24ss','NEW','N','BASE','APP','SMT','TTM','89','ADL','10','20240405','E123123123','E123123131');
insert into prd(pd_id, pd_name,mdl_name,ctg,mn_img_fn,det_img_fn,pd_smr_dsc,pd_det_dsc,sls_strt_dt,pd_mnf_date, og_pd_num,origin,mfr,srs_id,mtrl,season,qlt_cd,pd_chr_cd,sprt_type_cd,pd_type_cd,pd_type_det_cd,brd_cd,clr_cd,age_grp_cd,pd_stat_hist_cd,frst_reg_dt,frst_reg_id,last_mod_id) values('APP000001-13', '투더문 쿨론 루즈핏 메쉬 스판 언더셔츠 투톤 레드','투더문 언더셔츠', 'APPFRTTTM', '/Users/ikjuncho/Library/Mobile Documents/com~apple~CloudDocs/Computer/Web/Backend/project/baseball/apparel/APP000001-13/main.jpg','/Users/ikjuncho/Library/Mobile Documents/com~apple~CloudDocs/Computer/Web/Backend/project/baseball/apparel/APP000001-13/detail.jpg','투더문 쿨론 루즈핏 메쉬 스판 언더셔츠는 투톤 레드 컬러로 제작되어 편안하고 시원한 착용감을 제공합니다.','투더문 쿨론 루즈핏 메쉬 스판 언더셔츠는 뛰어난 품질과 착용감을 자랑하는 제품입니다. 투톤 레드 컬러는 다양한 스타일에 어울리며, 클래식한 룩을 연출할 수 있습니다. 메쉬 스판 소재는 통기성이 뛰어나고, 땀을 효과적으로 배출하여 시원하고 건조한 착용감을 제공합니다. 루즈핏 디자인은 자유로운 움직임을 가능하게 하며, 편안한 착용감을 선사합니다. 피부에 자극 없는 부드러운 소재로 피부에 안심하고 착용할 수 있습니다. 이 언더셔츠는 운동이나 일상 생활에서 활용하기에 이상적이며, 세련된 디자인과 탁월한 기능을 모두 갖추고 있습니다.','20240405','20240221','MG9844-24','중국','투더문','언더셔츠','폴리에스터','24ss','NEW','N','BASE','APP','SMT','TTM','13','ADL','10','20240405','E123123123','E123123131');
insert into prd(pd_id, pd_name,mdl_name,ctg,mn_img_fn,det_img_fn,pd_smr_dsc,pd_det_dsc,sls_strt_dt,pd_mnf_date, og_pd_num,origin,mfr,srs_id,mtrl,season,qlt_cd,pd_chr_cd,sprt_type_cd,pd_type_cd,pd_type_det_cd,brd_cd,clr_cd,age_grp_cd,pd_stat_hist_cd,frst_reg_dt,frst_reg_id,last_mod_id) values('APP000001-17', '투더문 쿨론 루즈핏 메쉬 스판 언더셔츠 투톤 네이비','투더문 언더셔츠', 'APPFRTTTM', '/Users/ikjuncho/Library/Mobile Documents/com~apple~CloudDocs/Computer/Web/Backend/project/baseball/apparel/APP000001-17/main.jpg','/Users/ikjuncho/Library/Mobile Documents/com~apple~CloudDocs/Computer/Web/Backend/project/baseball/apparel/APP000001-17/detail.jpg','투더문 쿨론 루즈핏 메쉬 스판 언더셔츠는 투톤 네이비 컬러로 제작되어 편안하고 시원한 착용감을 제공합니다.','투더문 쿨론 루즈핏 메쉬 스판 언더셔츠는 뛰어난 품질과 착용감을 자랑하는 제품입니다. 투톤 네이비 컬러는 다양한 스타일에 어울리며, 클래식한 룩을 연출할 수 있습니다. 메쉬 스판 소재는 통기성이 뛰어나고, 땀을 효과적으로 배출하여 시원하고 건조한 착용감을 제공합니다. 루즈핏 디자인은 자유로운 움직임을 가능하게 하며, 편안한 착용감을 선사합니다. 피부에 자극 없는 부드러운 소재로 피부에 안심하고 착용할 수 있습니다. 이 언더셔츠는 운동이나 일상 생활에서 활용하기에 이상적이며, 세련된 디자인과 탁월한 기능을 모두 갖추고 있습니다.','20240405','20240221','MG9844-24','중국','투더문','언더셔츠','폴리에스터','24ss','NEW','N','BASE','APP','SMT','TTM','17','ADL','10','20240405','E123123123','E123123131');
insert into prd(pd_id, pd_name,mdl_name,ctg,mn_img_fn,det_img_fn,pd_smr_dsc,pd_det_dsc,sls_strt_dt,pd_mnf_date, og_pd_num,origin,mfr,srs_id,mtrl,season,qlt_cd,sprt_type_cd,pd_type_cd,pd_type_det_cd,brd_cd,clr_cd,age_grp_cd,pd_stat_hist_cd,frst_reg_dt,frst_reg_id,last_mod_id) values('APP000002-20', '뉴발란스 NBD4CB1170BK 라운드넥 반팔 언더셔츠 (블랙)', '언더아머 반팔 언더셔츠','APPSMTNB', '/Users/ikjuncho/Library/Mobile Documents/com~apple~CloudDocs/Computer/Web/Backend/project/baseball/apparel/APP000002-20/main.jpg','/Users/ikjuncho/Library/Mobile Documents/com~apple~CloudDocs/Computer/Web/Backend/project/baseball/apparel/APP000002-20/detail.jpg','뉴발란스 NBD4CB1170BK 라운드넥 반팔 언더셔츠는 심플한 블랙 컬러로 제작되어 편안한 착용을 제공합니다.','뉴발란스 NBD4CB1170BK 라운드넥 반팔 언더셔츠는 편안한 착용을 위해 설계된 제품입니다. 심플한 디자인의 블랙 컬러는 다양한 스타일과 어울리며, 특히 다른 의상과 쉽게 조합할 수 있습니다. 라운드넥 디자인은 목을 편안하게 감싸주어 자연스러운 착용감을 제공합니다. 반팔 디자인은 여름철에도 시원하게 착용할 수 있으며, 소매 부분에는 로고가 디자인되어 있어 브랜드의 고급스러움을 느낄 수 있습니다. 또한, 내구성이 뛰어난 소재로 제작되어 여러 착용을 견디며 오랜 시간 동안 사용할 수 있습니다. 이 언더셔츠는 운동이나 일상 생활에서 활용하기에 이상적이며, 편안한 착용감과 심플한 디자인을 선호하는 사람들에게 추천합니다.','20220501','20240321','NBD4CB1170BK','중국','에이스비','언더셔츠','폴리에스터','22ss','NEW','BASE','APP','SMT','NB','20','ADL','00','20240405','E123123123','E123123131');
insert into prd(pd_id, pd_name,mdl_name,ctg,mn_img_fn,det_img_fn,pd_smr_dsc,pd_det_dsc,sls_strt_dt,pd_mnf_date, og_pd_num,origin,mfr,srs_id,mtrl,season,qlt_cd,sprt_type_cd,pd_type_cd,pd_type_det_cd,brd_cd,clr_cd,age_grp_cd,frst_reg_id,last_mod_id) values('APP000003-20', '데상트 S8121ZTS13 BLK0 라운드넥 배색 반팔 언더셔츠 (블랙)', '데상트 반팔 언더 셔츠','APPSMTDST', '/Users/ikjuncho/Library/Mobile Documents/com~apple~CloudDocs/Computer/Web/Backend/project/baseball/apparel/APP000003-20/main.jpg','/Users/ikjuncho/Library/Mobile Documents/com~apple~CloudDocs/Computer/Web/Backend/project/baseball/apparel/APP000003-20/detail.jpg','데상트 S8121ZTS13 BLK0 라운드넥 배색 반팔 언더셔츠는 블랙 컬러에 배색 디자인이 돋보이며, 스타일과 편안함을 제공합니다.','데상트 S8121ZTS13 BLK0 라운드넥 배색 반팔 언더셔츠는 고급스러운 디자인과 편안한 착용감을 동시에 제공합니다. 블랙 컬러에 배색 디자인이 조화롭게 어우러져 스타일리시한 룩을 완성합니다. 라운드넥 디자인은 목을 편안하게 감싸주며, 언더셔츠의 실루엣을 부드럽게 완성합니다. 반팔 디자인은 여름철에 시원하게 착용할 수 있습니다. 내구성이 뛰어난 고품질 소재로 제작되어 오랜 기간 동안 사용 가능합니다. 또한, 피부에 자극 없이 부드럽게 착용할 수 있어 편안한 느낌을 줍니다. 이 언더셔츠는 다양한 활동과 다른 옷과의 조합에 적합하여 일상 생활에서 활용할 수 있습니다.','20240326','20220431','S8121ZTS13 BLK0','중국','케이엔코리아','반팔언더셔츠','폴리에스터','22ss','NEW','BASE','APP','SMT','DST','20','ADL','E123123123','E123123131');
insert into prd(pd_id, pd_name,mdl_name,ctg,mn_img_fn,det_img_fn,pd_smr_dsc,pd_det_dsc,sls_strt_dt,pd_mnf_date, og_pd_num,origin,mfr,srs_id,mtrl,season,qlt_cd,sprt_type_cd,pd_type_cd,pd_type_det_cd,brd_cd,clr_cd,age_grp_cd,frst_reg_id,last_mod_id) values('APP000004-70', '언더아머 1380358-390 UA 스트레치 우븐 카고 팬츠 (카키)', '언더아머 카고 팬츠','APPWTBUA', '/Users/ikjuncho/Library/Mobile Documents/com~apple~CloudDocs/Computer/Web/Backend/project/baseball/apparel/APP000004-70/main.jpg','/Users/ikjuncho/Library/Mobile Documents/com~apple~CloudDocs/Computer/Web/Backend/project/baseball/apparel/APP000004-70/detail.jpg','언더아머 1380358-390 UA 스트레치 우븐 카고 팬츠는 카키 컬러로 제작되어 활동성과 스타일을 동시에 갖춘 제품입니다.','언더아머 1380358-390 UA 스트레치 우븐 카고 팬츠는 탁월한 품질과 기능성을 가진 제품입니다. 카키 컬러로 제작되어 다양한 스타일에 어울리며, 캐주얼한 룩을 완성할 수 있습니다. 스트레치 우븐 소재는 편안한 착용감과 자유로운 움직임을 제공하며, 활동성을 높여줍니다. 카고 스타일의 디자인으로 수납 공간이 많아 실용적입니다. 허리에는 조절 가능한 밴드가 있어 착용감을 조절할 수 있습니다. 내구성이 뛰어나고 편안한 착용감을 제공하여 다양한 야외 활동이나 일상 생활에서 활용하기에 적합합니다. 이 카고 팬츠는 운동과 캐주얼한 모임 등 다양한 상황에서 탁월한 선택입니다.','20240328','20230312','1378764','중국','언더아머','카고팬츠','폴리에스터','23ss','NEW','CASL','APP','WTB','UA','70','ADL','E123123123','E123123131');

show triggers;
DROP TRIGGER IF EXISTS PD_HIST_AFTER_INSERT;

update prd set pd_smr_dsc = '투더문 쿨톤 오버핏 언더셔츠' where pd_id = 'APP000003-20';
update prd set mdl_name = '투더문 언더셔츠당' where pd_id = 'APP000001-13';
update prd set sls_strt_dt = '20240406' where pd_id = 'APP000001-13';
update prd set pd_stat_hist_cd = '00' where pd_id = 'APP000004-70';
update prd set pd_stat_hist_cd = '00' where pd_id = 'APP000002-20';

select *
from prd;
select *
from pd_hist;
select *
from pd_stat_hist;


-- 유형별 마지막 상품번호 검색하기
select cast(substr(pd_id,4,6) as unsigned) as serial_number
from prd
where pd_id like concat('APP', '%')
order by serial_number desc
limit 1;

select cast(substr(pd_id,4,6) as unsigned) as serial_number
from prd
where pd_id like concat('GLV', '%')
order by serial_number desc
limit 1;

select ifnull(cast(substr(pd_id,4,6) as unsigned),"없다") as serial_number
from prd
where pd_type_cd = 'GLV'
order by serial_number desc
limit 1;

select count(*)
from prd
where pd_type_cd = 'GLV'
;

-- 조회수 증가
update prd 
set hit_cnt = hit_cnt+1 
where pd_id = 'APP000001-13'; 

select count(*)
from prd;

delete from prd where pd_id = 'APP000003-20';

select pd.pd_id, pd.pd_name, pd.qlt_cd, stk.pd_clsf_cd, stk.sls_prc
from prd as pd, stk
where pd.pd_id = stk.pd_id;

select *
from (
	select pd.pd_id, pd.pd_name, pd.qlt_cd, stk.pd_clsf_cd, stk.sls_prc
	from prd as pd, stk
	where pd.pd_id = stk.pd_id
) as pd_stk
where pd_id = 'APP000001-13';

show triggers;

select * from prd;
update prd set pd_name = '투더문 쿨론 오버핏 메쉬 스판 언더셔츠 투톤 레드' where pd_id = 'APP000001-13';

select * from rltd_pd;
insert into rltd_pd(pd_id, rltd_pd_id) values("APP000001-08", "APP000002-08");

delete from prd;